import {PathExpressionEngine,TextTreeNode} from "../tree/PathExpression"
import {AstHelper} from "./AstHelper"
import {TreeHelper} from "../tree/TreeHelper"

import {File} from "../model/Core"

let treeHelper = new TreeHelper()

/**
 * Superclass for decorators on node
 */
export class NodeOps<N extends TextTreeNode> {

    protected astHelper: AstHelper

    constructor(protected node: N, public pexe: PathExpressionEngine) {
        this.astHelper = new AstHelper(pexe)
    }

    containingFile(): File {
       return treeHelper.findAncestorWithTag<File>(this.node, "File")
    }

}