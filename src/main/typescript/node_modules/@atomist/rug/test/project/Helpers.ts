import {Project} from "../../model/Core"
import {File} from "../../model/Core"

/**
 * Pretty list the files in project
 */
export function prettyListFiles(p: Project): string {
    return `${p.totalFileCount()} files. Files:\n\t${p.files()
        .map(fileSummary)
        .join("\n\t")
    }`
}

function fileSummary(f: File): string {
    return `file:[${f.path()}];length:${f.contentLength()}`
}

function dumpFile(f: File): string {
    return `${fileSummary(f)}\n[${f.content()}]`
}

/**
 * Dump the path of this file followed by the content
 */
export function dump(p: Project, path: string): string {
    // TODO what if it's a directory?
    let f = p.findFile(path)
    if (f) {
        return dumpFile(f)
    }
    else {
        return `What is the sound of one hand clapping: Nothing found at [${path}]`
    }
}